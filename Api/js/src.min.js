!function(){"use strict";angular.module("app",["ngRoute","controllers","LocalStorageModule"]),angular.module("controllers",[]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptorService")}]),angular.module("app").run(["AccountService",function(e){e.getIdentity()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/js/home/index.html",controller:"IndexController"}).when("/create",{templateUrl:"/js/home/create.html",controller:"CreateController"}),e.when("/login",{templateUrl:"/js/account/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/js/account/register.html",controller:"RegisterController"}).when("/manage/logins",{templateUrl:"/js/account/manage/manageLogins.html",controller:"ManageLoginsController"}),e.otherwise({redirectTo:"/"})}])}(),!function(){"use strict";angular.module("app",["ngRoute","controllers","LocalStorageModule"]),angular.module("controllers",[]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptorService")}]),angular.module("app").run(["AccountService",function(e){e.getIdentity()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/js/home/index.html",controller:"IndexController"}).when("/create",{templateUrl:"/js/home/create.html",controller:"CreateController"}),e.when("/login",{templateUrl:"/js/account/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/js/account/register.html",controller:"RegisterController"}).when("/manage/logins",{templateUrl:"/js/account/manage/manageLogins.html",controller:"ManageLoginsController"}),e.otherwise({redirectTo:"/"})}])}(),!function(){"use strict";angular.module("app",["ngRoute","controllers","LocalStorageModule"]),angular.module("controllers",[]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptorService")}]),angular.module("app").run(["AccountService",function(e){e.getIdentity()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/js/home/index.html",controller:"IndexController"}).when("/create",{templateUrl:"/js/home/create.html",controller:"CreateController"}),e.when("/login",{templateUrl:"/js/account/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/js/account/register.html",controller:"RegisterController"}).when("/manage/logins",{templateUrl:"/js/account/manage/manageLogins.html",controller:"ManageLoginsController"}),e.otherwise({redirectTo:"/"})}])}(),!function(){"use strict";angular.module("app",["ngRoute","controllers","LocalStorageModule"]),angular.module("controllers",[]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptorService")}]),angular.module("app").run(["AccountService",function(e){e.getIdentity()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/js/home/index.html",controller:"IndexController"}).when("/create",{templateUrl:"/js/home/create.html",controller:"CreateController"}),e.when("/login",{templateUrl:"/js/account/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/js/account/register.html",controller:"RegisterController"}).when("/manage/logins",{templateUrl:"/js/account/manage/manageLogins.html",controller:"ManageLoginsController"}),e.otherwise({redirectTo:"/"})}])}(),!function(){"use strict";angular.module("app",["ngRoute","controllers","LocalStorageModule"]),angular.module("controllers",[]),angular.module("app").config(["$httpProvider",function(e){e.interceptors.push("AuthInterceptorService")}]),angular.module("app").run(["AccountService",function(e){e.getIdentity()}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{templateUrl:"/js/home/index.html",controller:"IndexController"}).when("/create",{templateUrl:"/js/home/create.html",controller:"CreateController"}),e.when("/login",{templateUrl:"/js/account/login.html",controller:"LoginController"}).when("/register",{templateUrl:"/js/account/register.html",controller:"RegisterController"}).when("/manage/logins",{templateUrl:"/js/account/manage/manageLogins.html",controller:"ManageLoginsController"}),e.otherwise({redirectTo:"/"})}])}(),function(){"use strict";function e(e,t,n){var o={};return o.identity={isAuth:!1,username:""},o.register=function(e){return o.logout(),t.post("/api/account/register",e)},o.login=function(r){var a="grant_type=password&username="+r.username+"&password="+r.password,i=e.defer();return t.post("/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.data.access_token,username:r.username}),o.identity.isAuth=!0,o.identity.username=r.username,i.resolve(e)},function(e){o.logout(),i.reject(e)}),i.promise},o.logout=function(){n.remove("authorizationData"),o.identity.isAuth=!1,o.identity.username=""},o.getIdentity=function(){var e=n.get("authorizationData");e&&(o.identity.isAuth=!0,o.identity.username=e.username)},o.getUserInfo=function(e){var n=e?{headers:{Authorization:"Bearer "+e}}:{};return t.get("/api/account/UserInfo",n)},o.getExternalLogins=function(e,n){return t.get("/api/account/externalLogins?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html")+"&generateState="+(n||!1))},o.registerExternal=function(e,n){var o=n?{headers:{Authorization:"Bearer "+n}}:{};return t.post("/api/account/registerExternal",e,o)},o.addExternalLogin=function(e){return t.post("/api/account/addExternalLogin",e)},o.removeLogin=function(e){return t.post("/api/account/removeLogin",e)},o.getManageLogins=function(e){return t.get("/api/account/manageInfo?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html"))},o}angular.module("app").factory("AccountService",e),e.$inject=["$q","$http","localStorageService"]}(),function(){"use strict";function e(e,t,n){var o={};return o.request=function(e){e.headers=e.headers||{};var t=n.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},o.responseError=function(n){return 401===n.status&&t.path("/login"),e.reject(n)},o}angular.module("app").factory("AuthInterceptorService",e),e.$inject=["$q","$location","localStorageService"]}(),function(){"use strict";function e(e,t,n,o,r,a){console.log("Access token");var i=n.path().split(/[=&]+/)[1];a.getUserInfo(i).then(function(e){console.log("Get User Info"),console.log(e.data),t.loginProvider=e.data.loginProvider,t.model={name:e.data.name,username:e.data.username,email:e.data.email},e.data.hasRegistered?(t.action="process",a.identity.isAuth?a.addExternalLogin({externalAccessToken:i}).then(function(e){o.location.href="/#/manage/logins?m=added"},function(e){t.res=e}):(r.set("authorizationData",{token:i}),o.location.href="/#/")):t.action="register"},function(e){t.res=e}),t.registerExternal=function(e){a.registerExternal(e,i).then(function(e){t.res="You've registered successfully",console.log(e)},function(e){t.res=e})}}angular.module("controllers").controller("RegisterExternalController",e),e.$inject=["$http","$scope","$location","$window","localStorageService","AccountService"]}(),function(){"use strict";function e(e,t,n){n.getExternalLogins().then(function(t){e.logins=t.data}),e.message="",e.login=function(o){n.login(o).then(function(e){t.path("/create")},function(t){e.message=t.error_description})}}angular.module("app").controller("LoginController",["$scope","$location","AccountService",e])}(),function(){"use strict";function e(e,t,n,o){e.savedSuccessfully=!1,e.message="",e.register=function(r){o.register(r).then(function(o){e.savedSuccessfully=!0,e.message="User has been registered successfully,  you will be redicted to login page in 2 seconds.",n(function(){t.path("/login")},2e3)},function(t){var n=[];for(var o in t.data.modelState)for(var r=0;r<t.data.modelState[o].length;r++)n.push(t.data.modelState[o][r]);e.message="Failed to register user due to:"+n.join(" ")})}}angular.module("controllers").controller("RegisterController",["$scope","$location","$timeout","AccountService",e])}(),function(){"use strict";function e(e){e.create=function(t){e.result=t.name}}function t(e){}angular.module("controllers").controller("IndexController",["$scope",e]),angular.module("controllers").controller("CreateController",["$scope",t])}(),exports.config={framework:"jasmine",specs:["./e2e/**/*.spec.js","./labs/**/*.spec.js"],baseUrl:"http://localhost:53233/"},function(){"use strict";function e(e,t){e.identity=t.identity,e.logout=function(){t.logout()}}angular.module("controllers").controller("NavbarController",["$scope","AccountService",e])}(),function(){"use strict";function e(e,t){t.getManageLogins().then(function(t){e.logins=t.data.logins,e.externalLoginProviders=t.data.externalLoginProviders}),e.removeLogin=function(n,o){t.removeLogin(n).then(function(t){e.res="Removed",e.logins.splice(o,1)})}}angular.module("controllers").controller("ManageLoginsController",e),e.$inject=["$scope","AccountService"]}();var angularHomepage={nameInput:element(by.model("model.name")),result:element(by.binding("model.name")),get:function(){browser.get("#/create")},setName:function(e){this.nameInput.sendKeys(e)}};describe("angularjs homepage",function(){it("should greet the named user",function(){angularHomepage.get(),angularHomepage.setName("Julie is going to school today."),expect(angularHomepage.result.getText()).toEqual("Julie is going to school today.")})}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){function e(e,t,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e,o=document.createElement("canvas"),r=o.getContext("2d");o.height=this.height,o.width=this.width,r.drawImage(this,0,0),e=o.toDataURL(t),n(e),o=null},o.src=e}$("div a.grid-image").each(function(t,n){e(n.href,"image/png",function(e){var t=$(n).attr("title");n.href=e,n.download=t+".png",n.click()})})}(),describe("Protractor Demo App",function(){it("should add one and two",function(){browser.get("http://juliemr.github.io/protractor-demo/"),element(by.model("first")).sendKeys(1),element(by.model("second")).sendKeys(2),element(by.id("gobutton")).click(),expect(element(by.binding("latest")).getText()).toEqual("5")})}),describe("Protractor Demo App",function(){var e=element(by.model("first")),t=element(by.model("second")),n=element(by.id("gobutton")),o=element(by.binding("latest"));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a title",function(){expect(browser.getTitle()).toEqual("Super Calculator")}),it("should add one and two",function(){e.sendKeys(1),t.sendKeys(2),n.click(),expect(o.getText()).toEqual("3")}),it("should add four and six",function(){expect(o.getText()).toEqual("10")})}),describe("Protractor Demo App",function(){function e(e,r){t.sendKeys(e),n.sendKeys(r),o.click()}var t=element(by.model("first")),n=element(by.model("second")),o=element(by.id("gobutton")),r=(element(by.binding("latest")),element.all(by.repeater("result in memory")));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a history",function(){e(1,2),e(3,4),expect(r.count()).toEqual(2),e(5,6),expect(r.count()).toEqual(0)})}),function(){"use strict";function e(e,t,n){var o={};return o.identity={isAuth:!1,username:""},o.register=function(e){return o.logout(),t.post("/api/account/register",e)},o.login=function(r){var a="grant_type=password&username="+r.username+"&password="+r.password,i=e.defer();return t.post("/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.data.access_token,username:r.username}),o.identity.isAuth=!0,o.identity.username=r.username,i.resolve(e)},function(e){o.logout(),i.reject(e)}),i.promise},o.logout=function(){n.remove("authorizationData"),o.identity.isAuth=!1,o.identity.username=""},o.getIdentity=function(){var e=n.get("authorizationData");e&&(o.identity.isAuth=!0,o.identity.username=e.username)},o.getUserInfo=function(e){var n=e?{headers:{Authorization:"Bearer "+e}}:{};return t.get("/api/account/UserInfo",n)},o.getExternalLogins=function(e,n){return t.get("/api/account/externalLogins?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html")+"&generateState="+(n||!1))},o.registerExternal=function(e,n){var o=n?{headers:{Authorization:"Bearer "+n}}:{};return t.post("/api/account/registerExternal",e,o)},o.addExternalLogin=function(e){return t.post("/api/account/addExternalLogin",e)},o.removeLogin=function(e){return t.post("/api/account/removeLogin",e)},o.getManageLogins=function(e){return t.get("/api/account/manageInfo?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html"))},o}angular.module("app").factory("AccountService",e),e.$inject=["$q","$http","localStorageService"]}(),function(){"use strict";function e(e,t,n){var o={};return o.request=function(e){e.headers=e.headers||{};var t=n.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},o.responseError=function(n){return 401===n.status&&t.path("/login"),e.reject(n)},o}angular.module("app").factory("AuthInterceptorService",e),e.$inject=["$q","$location","localStorageService"]}(),function(){"use strict";function e(e,t,n,o,r,a){console.log("Access token");var i=n.path().split(/[=&]+/)[1];a.getUserInfo(i).then(function(e){console.log("Get User Info"),console.log(e.data),t.loginProvider=e.data.loginProvider,t.model={name:e.data.name,username:e.data.username,email:e.data.email},e.data.hasRegistered?(t.action="process",a.identity.isAuth?a.addExternalLogin({externalAccessToken:i}).then(function(e){o.location.href="/#/manage/logins?m=added"},function(e){t.res=e}):(r.set("authorizationData",{token:i}),o.location.href="/#/")):t.action="register"},function(e){t.res=e}),t.registerExternal=function(e){a.registerExternal(e,i).then(function(e){t.res="You've registered successfully",console.log(e)},function(e){t.res=e})}}angular.module("controllers").controller("RegisterExternalController",e),e.$inject=["$http","$scope","$location","$window","localStorageService","AccountService"]}(),function(){"use strict";function e(e,t,n){n.getExternalLogins().then(function(t){e.logins=t.data}),e.message="",e.login=function(o){n.login(o).then(function(e){t.path("/create")},function(t){e.message=t.error_description})}}angular.module("app").controller("LoginController",["$scope","$location","AccountService",e])}(),function(){"use strict";function e(e,t,n,o){e.savedSuccessfully=!1,e.message="",e.register=function(r){o.register(r).then(function(o){e.savedSuccessfully=!0,e.message="User has been registered successfully,  you will be redicted to login page in 2 seconds.",n(function(){t.path("/login")},2e3)},function(t){var n=[];for(var o in t.data.modelState)for(var r=0;r<t.data.modelState[o].length;r++)n.push(t.data.modelState[o][r]);e.message="Failed to register user due to:"+n.join(" ")})}}angular.module("controllers").controller("RegisterController",["$scope","$location","$timeout","AccountService",e])}(),function(){"use strict";function e(e){e.create=function(t){e.result=t.name}}function t(e){}angular.module("controllers").controller("IndexController",["$scope",e]),angular.module("controllers").controller("CreateController",["$scope",t])}(),function(){"use strict";function e(e,t){e.identity=t.identity,e.logout=function(){t.logout()}}angular.module("controllers").controller("NavbarController",["$scope","AccountService",e])}(),exports.config={framework:"jasmine",specs:["./e2e/**/*.spec.js","./labs/**/*.spec.js"],baseUrl:"http://localhost:53233/"},function(){"use strict";function e(e,t){t.getManageLogins().then(function(t){e.logins=t.data.logins,e.externalLoginProviders=t.data.externalLoginProviders}),e.removeLogin=function(n,o){t.removeLogin(n).then(function(t){e.res="Removed",e.logins.splice(o,1)})}}angular.module("controllers").controller("ManageLoginsController",e),e.$inject=["$scope","AccountService"]}();var angularHomepage={nameInput:element(by.model("model.name")),result:element(by.binding("model.name")),get:function(){browser.get("#/create")},setName:function(e){this.nameInput.sendKeys(e)}};describe("angularjs homepage",function(){it("should greet the named user",function(){angularHomepage.get(),angularHomepage.setName("Julie is going to school today."),expect(angularHomepage.result.getText()).toEqual("Julie is going to school today.")})}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){function e(e,t,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e,o=document.createElement("canvas"),r=o.getContext("2d");o.height=this.height,o.width=this.width,r.drawImage(this,0,0),e=o.toDataURL(t),n(e),o=null},o.src=e}$("div a.grid-image").each(function(t,n){e(n.href,"image/png",function(e){var t=$(n).attr("title");n.href=e,n.download=t+".png",n.click()})})}(),describe("Protractor Demo App",function(){it("should add one and two",function(){browser.get("http://juliemr.github.io/protractor-demo/"),element(by.model("first")).sendKeys(1),element(by.model("second")).sendKeys(2),element(by.id("gobutton")).click(),expect(element(by.binding("latest")).getText()).toEqual("5")})}),describe("Protractor Demo App",function(){var e=element(by.model("first")),t=element(by.model("second")),n=element(by.id("gobutton")),o=element(by.binding("latest"));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a title",function(){expect(browser.getTitle()).toEqual("Super Calculator")}),it("should add one and two",function(){e.sendKeys(1),t.sendKeys(2),n.click(),expect(o.getText()).toEqual("3")}),it("should add four and six",function(){expect(o.getText()).toEqual("10")})}),describe("Protractor Demo App",function(){function e(e,r){t.sendKeys(e),n.sendKeys(r),o.click()}var t=element(by.model("first")),n=element(by.model("second")),o=element(by.id("gobutton")),r=(element(by.binding("latest")),element.all(by.repeater("result in memory")));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a history",function(){e(1,2),e(3,4),expect(r.count()).toEqual(2),e(5,6),expect(r.count()).toEqual(0)})}),function(){"use strict";function e(e,t,n){var o={};return o.identity={isAuth:!1,username:""},o.register=function(e){return o.logout(),t.post("/api/account/register",e)},o.login=function(r){var a="grant_type=password&username="+r.username+"&password="+r.password,i=e.defer();return t.post("/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.data.access_token,username:r.username}),o.identity.isAuth=!0,o.identity.username=r.username,i.resolve(e)},function(e){o.logout(),i.reject(e)}),i.promise},o.logout=function(){n.remove("authorizationData"),o.identity.isAuth=!1,o.identity.username=""},o.getIdentity=function(){var e=n.get("authorizationData");e&&(o.identity.isAuth=!0,o.identity.username=e.username)},o.getUserInfo=function(e){var n=e?{headers:{Authorization:"Bearer "+e}}:{};return t.get("/api/account/UserInfo",n)},o.getExternalLogins=function(e,n){return t.get("/api/account/externalLogins?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html")+"&generateState="+(n||!1))},o.registerExternal=function(e,n){var o=n?{headers:{Authorization:"Bearer "+n}}:{};return t.post("/api/account/registerExternal",e,o)},o.addExternalLogin=function(e){return t.post("/api/account/addExternalLogin",e)},o.removeLogin=function(e){return t.post("/api/account/removeLogin",e)},o.getManageLogins=function(e){return t.get("/api/account/manageInfo?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html"))},o}angular.module("app").factory("AccountService",e),e.$inject=["$q","$http","localStorageService"]}(),function(){"use strict";function e(e,t,n){var o={};return o.request=function(e){e.headers=e.headers||{};var t=n.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},o.responseError=function(n){return 401===n.status&&t.path("/login"),e.reject(n)},o}angular.module("app").factory("AuthInterceptorService",e),e.$inject=["$q","$location","localStorageService"]}(),function(){"use strict";function e(e,t,n,o,r,a){console.log("Access token");var i=n.path().split(/[=&]+/)[1];a.getUserInfo(i).then(function(e){console.log("Get User Info"),console.log(e.data),t.loginProvider=e.data.loginProvider,t.model={name:e.data.name,username:e.data.username,email:e.data.email},e.data.hasRegistered?(t.action="process",a.identity.isAuth?a.addExternalLogin({externalAccessToken:i}).then(function(e){o.location.href="/#/manage/logins?m=added"},function(e){t.res=e}):(r.set("authorizationData",{token:i}),o.location.href="/#/")):t.action="register"},function(e){t.res=e}),t.registerExternal=function(e){a.registerExternal(e,i).then(function(e){t.res="You've registered successfully",console.log(e)},function(e){t.res=e})}}angular.module("controllers").controller("RegisterExternalController",e),e.$inject=["$http","$scope","$location","$window","localStorageService","AccountService"]}(),function(){"use strict";function e(e,t,n){n.getExternalLogins().then(function(t){e.logins=t.data}),e.message="",e.login=function(o){n.login(o).then(function(e){t.path("/create")},function(t){e.message=t.error_description})}}angular.module("app").controller("LoginController",["$scope","$location","AccountService",e])}(),function(){"use strict";function e(e,t,n,o){e.savedSuccessfully=!1,e.message="",e.register=function(r){o.register(r).then(function(o){e.savedSuccessfully=!0,e.message="User has been registered successfully,  you will be redicted to login page in 2 seconds.",n(function(){t.path("/login")},2e3)},function(t){var n=[];for(var o in t.data.modelState)for(var r=0;r<t.data.modelState[o].length;r++)n.push(t.data.modelState[o][r]);e.message="Failed to register user due to:"+n.join(" ")})}}angular.module("controllers").controller("RegisterController",["$scope","$location","$timeout","AccountService",e])}(),function(){"use strict";function e(e){e.create=function(t){e.result=t.name}}function t(e){}angular.module("controllers").controller("IndexController",["$scope",e]),angular.module("controllers").controller("CreateController",["$scope",t])}(),function(){"use strict";function e(e,t){e.identity=t.identity,e.logout=function(){t.logout()}}angular.module("controllers").controller("NavbarController",["$scope","AccountService",e])}(),exports.config={framework:"jasmine",specs:["./e2e/**/*.spec.js","./labs/**/*.spec.js"],baseUrl:"http://localhost:53233/"},function(){"use strict";function e(e,t){t.getManageLogins().then(function(t){e.logins=t.data.logins,e.externalLoginProviders=t.data.externalLoginProviders}),e.removeLogin=function(n,o){t.removeLogin(n).then(function(t){e.res="Removed",e.logins.splice(o,1)})}}angular.module("controllers").controller("ManageLoginsController",e),e.$inject=["$scope","AccountService"]}();var angularHomepage={nameInput:element(by.model("model.name")),result:element(by.binding("model.name")),get:function(){browser.get("#/create")},setName:function(e){this.nameInput.sendKeys(e)}};describe("angularjs homepage",function(){it("should greet the named user",function(){angularHomepage.get(),angularHomepage.setName("Julie is going to school today."),expect(angularHomepage.result.getText()).toEqual("Julie is going to school today.")})}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){function e(e,t,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e,o=document.createElement("canvas"),r=o.getContext("2d");o.height=this.height,o.width=this.width,r.drawImage(this,0,0),e=o.toDataURL(t),n(e),o=null},o.src=e}$("div a.grid-image").each(function(t,n){e(n.href,"image/png",function(e){var t=$(n).attr("title");n.href=e,n.download=t+".png",n.click()})})}(),describe("Protractor Demo App",function(){it("should add one and two",function(){browser.get("http://juliemr.github.io/protractor-demo/"),element(by.model("first")).sendKeys(1),element(by.model("second")).sendKeys(2),element(by.id("gobutton")).click(),expect(element(by.binding("latest")).getText()).toEqual("5")})}),describe("Protractor Demo App",function(){var e=element(by.model("first")),t=element(by.model("second")),n=element(by.id("gobutton")),o=element(by.binding("latest"));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a title",function(){expect(browser.getTitle()).toEqual("Super Calculator")}),it("should add one and two",function(){e.sendKeys(1),t.sendKeys(2),n.click(),expect(o.getText()).toEqual("3")}),it("should add four and six",function(){expect(o.getText()).toEqual("10")})}),describe("Protractor Demo App",function(){function e(e,r){t.sendKeys(e),n.sendKeys(r),o.click()}var t=element(by.model("first")),n=element(by.model("second")),o=element(by.id("gobutton")),r=(element(by.binding("latest")),element.all(by.repeater("result in memory")));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a history",function(){e(1,2),e(3,4),expect(r.count()).toEqual(2),e(5,6),expect(r.count()).toEqual(0)})}),function(){"use strict";function e(e,t,n){var o={};return o.identity={isAuth:!1,username:""},o.register=function(e){return o.logout(),t.post("/api/account/register",e)},o.login=function(r){var a="grant_type=password&username="+r.username+"&password="+r.password,i=e.defer();return t.post("/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.data.access_token,username:r.username}),o.identity.isAuth=!0,o.identity.username=r.username,i.resolve(e)},function(e){o.logout(),i.reject(e)}),i.promise},o.logout=function(){n.remove("authorizationData"),o.identity.isAuth=!1,o.identity.username=""},o.getIdentity=function(){var e=n.get("authorizationData");e&&(o.identity.isAuth=!0,o.identity.username=e.username)},o.getUserInfo=function(e){var n=e?{headers:{Authorization:"Bearer "+e}}:{};return t.get("/api/account/UserInfo",n)},o.getExternalLogins=function(e,n){return t.get("/api/account/externalLogins?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html")+"&generateState="+(n||!1))},o.registerExternal=function(e,n){var o=n?{headers:{Authorization:"Bearer "+n}}:{};return t.post("/api/account/registerExternal",e,o)},o.addExternalLogin=function(e){return t.post("/api/account/addExternalLogin",e)},o.removeLogin=function(e){return t.post("/api/account/removeLogin",e)},o.getManageLogins=function(e){return t.get("/api/account/manageInfo?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html"))},o}angular.module("app").factory("AccountService",e),e.$inject=["$q","$http","localStorageService"]}(),function(){"use strict";function e(e,t,n){var o={};return o.request=function(e){e.headers=e.headers||{};var t=n.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},o.responseError=function(n){return 401===n.status&&t.path("/login"),e.reject(n)},o}angular.module("app").factory("AuthInterceptorService",e),e.$inject=["$q","$location","localStorageService"]}(),function(){"use strict";function e(e,t,n,o,r,a){console.log("Access token");var i=n.path().split(/[=&]+/)[1];a.getUserInfo(i).then(function(e){console.log("Get User Info"),console.log(e.data),t.loginProvider=e.data.loginProvider,t.model={name:e.data.name,username:e.data.username,email:e.data.email},e.data.hasRegistered?(t.action="process",a.identity.isAuth?a.addExternalLogin({externalAccessToken:i}).then(function(e){o.location.href="/#/manage/logins?m=added"},function(e){t.res=e}):(r.set("authorizationData",{token:i}),o.location.href="/#/")):t.action="register"},function(e){t.res=e}),t.registerExternal=function(e){a.registerExternal(e,i).then(function(e){t.res="You've registered successfully",console.log(e)},function(e){t.res=e})}}angular.module("controllers").controller("RegisterExternalController",e),e.$inject=["$http","$scope","$location","$window","localStorageService","AccountService"]}(),function(){"use strict";function e(e,t,n){n.getExternalLogins().then(function(t){e.logins=t.data}),e.message="",e.login=function(o){n.login(o).then(function(e){t.path("/create")},function(t){e.message=t.error_description})}}angular.module("app").controller("LoginController",["$scope","$location","AccountService",e])}(),function(){"use strict";function e(e,t,n,o){e.savedSuccessfully=!1,e.message="",e.register=function(r){o.register(r).then(function(o){e.savedSuccessfully=!0,e.message="User has been registered successfully,  you will be redicted to login page in 2 seconds.",n(function(){t.path("/login")},2e3)},function(t){var n=[];for(var o in t.data.modelState)for(var r=0;r<t.data.modelState[o].length;r++)n.push(t.data.modelState[o][r]);e.message="Failed to register user due to:"+n.join(" ")})}}angular.module("controllers").controller("RegisterController",["$scope","$location","$timeout","AccountService",e])}(),function(){"use strict";function e(e){e.create=function(t){e.result=t.name}}function t(e){}angular.module("controllers").controller("IndexController",["$scope",e]),angular.module("controllers").controller("CreateController",["$scope",t])}(),function(){"use strict";function e(e,t){e.identity=t.identity,e.logout=function(){t.logout()}}angular.module("controllers").controller("NavbarController",["$scope","AccountService",e])}(),exports.config={framework:"jasmine",specs:["./e2e/**/*.spec.js","./labs/**/*.spec.js"],baseUrl:"http://localhost:53233/"},function(){"use strict";function e(e,t){t.getManageLogins().then(function(t){e.logins=t.data.logins,e.externalLoginProviders=t.data.externalLoginProviders}),e.removeLogin=function(n,o){t.removeLogin(n).then(function(t){e.res="Removed",e.logins.splice(o,1)})}}angular.module("controllers").controller("ManageLoginsController",e),e.$inject=["$scope","AccountService"]}();var angularHomepage={
nameInput:element(by.model("model.name")),result:element(by.binding("model.name")),get:function(){browser.get("#/create")},setName:function(e){this.nameInput.sendKeys(e)}};describe("angularjs homepage",function(){it("should greet the named user",function(){angularHomepage.get(),angularHomepage.setName("Julie is going to school today."),expect(angularHomepage.result.getText()).toEqual("Julie is going to school today.")})}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){function e(e,t,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e,o=document.createElement("canvas"),r=o.getContext("2d");o.height=this.height,o.width=this.width,r.drawImage(this,0,0),e=o.toDataURL(t),n(e),o=null},o.src=e}$("div a.grid-image").each(function(t,n){e(n.href,"image/png",function(e){var t=$(n).attr("title");n.href=e,n.download=t+".png",n.click()})})}(),describe("Protractor Demo App",function(){it("should add one and two",function(){browser.get("http://juliemr.github.io/protractor-demo/"),element(by.model("first")).sendKeys(1),element(by.model("second")).sendKeys(2),element(by.id("gobutton")).click(),expect(element(by.binding("latest")).getText()).toEqual("5")})}),describe("Protractor Demo App",function(){var e=element(by.model("first")),t=element(by.model("second")),n=element(by.id("gobutton")),o=element(by.binding("latest"));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a title",function(){expect(browser.getTitle()).toEqual("Super Calculator")}),it("should add one and two",function(){e.sendKeys(1),t.sendKeys(2),n.click(),expect(o.getText()).toEqual("3")}),it("should add four and six",function(){expect(o.getText()).toEqual("10")})}),describe("Protractor Demo App",function(){function e(e,r){t.sendKeys(e),n.sendKeys(r),o.click()}var t=element(by.model("first")),n=element(by.model("second")),o=element(by.id("gobutton")),r=(element(by.binding("latest")),element.all(by.repeater("result in memory")));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a history",function(){e(1,2),e(3,4),expect(r.count()).toEqual(2),e(5,6),expect(r.count()).toEqual(0)})}),function(){"use strict";function e(e,t,n){var o={};return o.identity={isAuth:!1,username:""},o.register=function(e){return o.logout(),t.post("/api/account/register",e)},o.login=function(r){var a="grant_type=password&username="+r.username+"&password="+r.password,i=e.defer();return t.post("/token",a,{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then(function(e){n.set("authorizationData",{token:e.data.access_token,username:r.username}),o.identity.isAuth=!0,o.identity.username=r.username,i.resolve(e)},function(e){o.logout(),i.reject(e)}),i.promise},o.logout=function(){n.remove("authorizationData"),o.identity.isAuth=!1,o.identity.username=""},o.getIdentity=function(){var e=n.get("authorizationData");e&&(o.identity.isAuth=!0,o.identity.username=e.username)},o.getUserInfo=function(e){var n=e?{headers:{Authorization:"Bearer "+e}}:{};return t.get("/api/account/UserInfo",n)},o.getExternalLogins=function(e,n){return t.get("/api/account/externalLogins?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html")+"&generateState="+(n||!1))},o.registerExternal=function(e,n){var o=n?{headers:{Authorization:"Bearer "+n}}:{};return t.post("/api/account/registerExternal",e,o)},o.addExternalLogin=function(e){return t.post("/api/account/addExternalLogin",e)},o.removeLogin=function(e){return t.post("/api/account/removeLogin",e)},o.getManageLogins=function(e){return t.get("/api/account/manageInfo?returnUrl="+encodeURIComponent(e||"/js/account/externalLogin.html"))},o}angular.module("app").factory("AccountService",e),e.$inject=["$q","$http","localStorageService"]}(),function(){"use strict";function e(e,t,n){var o={};return o.request=function(e){e.headers=e.headers||{};var t=n.get("authorizationData");return t&&(e.headers.Authorization="Bearer "+t.token),e},o.responseError=function(n){return 401===n.status&&t.path("/login"),e.reject(n)},o}angular.module("app").factory("AuthInterceptorService",e),e.$inject=["$q","$location","localStorageService"]}(),function(){"use strict";function e(e,t,n,o,r,a){console.log("Access token");var i=n.path().split(/[=&]+/)[1];a.getUserInfo(i).then(function(e){console.log("Get User Info"),console.log(e.data),t.loginProvider=e.data.loginProvider,t.model={name:e.data.name,username:e.data.username,email:e.data.email},e.data.hasRegistered?(t.action="process",a.identity.isAuth?a.addExternalLogin({externalAccessToken:i}).then(function(e){o.location.href="/#/manage/logins?m=added"},function(e){t.res=e}):(r.set("authorizationData",{token:i}),o.location.href="/#/")):t.action="register"},function(e){t.res=e}),t.registerExternal=function(e){a.registerExternal(e,i).then(function(e){t.res="You've registered successfully",console.log(e)},function(e){t.res=e})}}angular.module("controllers").controller("RegisterExternalController",e),e.$inject=["$http","$scope","$location","$window","localStorageService","AccountService"]}(),function(){"use strict";function e(e,t,n){n.getExternalLogins().then(function(t){e.logins=t.data}),e.message="",e.login=function(o){n.login(o).then(function(e){t.path("/create")},function(t){e.message=t.error_description})}}angular.module("app").controller("LoginController",["$scope","$location","AccountService",e])}(),function(){"use strict";function e(e,t,n,o){e.savedSuccessfully=!1,e.message="",e.register=function(r){o.register(r).then(function(o){e.savedSuccessfully=!0,e.message="User has been registered successfully,  you will be redicted to login page in 2 seconds.",n(function(){t.path("/login")},2e3)},function(t){var n=[];for(var o in t.data.modelState)for(var r=0;r<t.data.modelState[o].length;r++)n.push(t.data.modelState[o][r]);e.message="Failed to register user due to:"+n.join(" ")})}}angular.module("controllers").controller("RegisterController",["$scope","$location","$timeout","AccountService",e])}(),function(){"use strict";function e(e){e.create=function(t){e.result=t.name}}function t(e){}angular.module("controllers").controller("IndexController",["$scope",e]),angular.module("controllers").controller("CreateController",["$scope",t])}(),function(){"use strict";function e(e,t){e.identity=t.identity,e.logout=function(){t.logout()}}angular.module("controllers").controller("NavbarController",["$scope","AccountService",e])}(),exports.config={framework:"jasmine",specs:["./e2e/**/*.spec.js","./labs/**/*.spec.js"],baseUrl:"http://localhost:53233/"},function(){"use strict";function e(e,t){t.getManageLogins().then(function(t){e.logins=t.data.logins,e.externalLoginProviders=t.data.externalLoginProviders}),e.removeLogin=function(n,o){t.removeLogin(n).then(function(t){e.res="Removed",e.logins.splice(o,1)})}}angular.module("controllers").controller("ManageLoginsController",e),e.$inject=["$scope","AccountService"]}();var angularHomepage={nameInput:element(by.model("model.name")),result:element(by.binding("model.name")),get:function(){browser.get("#/create")},setName:function(e){this.nameInput.sendKeys(e)}};describe("angularjs homepage",function(){it("should greet the named user",function(){angularHomepage.get(),angularHomepage.setName("Julie is going to school today."),expect(angularHomepage.result.getText()).toEqual("Julie is going to school today.")})}),describe("angularjs homepage todo list",function(){it("should add a todo",function(){browser.get("https://angularjs.org"),element(by.model("todoList.todoText")).sendKeys("write first protractor test"),element(by.css('[value="add"]')).click();var e=element.all(by.repeater("todo in todoList.todos"));expect(e.count()).toEqual(3),expect(e.get(2).getText()).toEqual("write first protractor test"),e.get(2).element(by.css("input")).click();var t=element.all(by.css(".done-true"));expect(t.count()).toEqual(2)})}),function(){var e=document.createElement("script");e.type="text/javascript",e.async=!0,e.src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.1/jquery.min.js",(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(e)}(),function(){function e(e,t,n){var o=new Image;o.crossOrigin="Anonymous",o.onload=function(){var e,o=document.createElement("canvas"),r=o.getContext("2d");o.height=this.height,o.width=this.width,r.drawImage(this,0,0),e=o.toDataURL(t),n(e),o=null},o.src=e}$("div a.grid-image").each(function(t,n){e(n.href,"image/png",function(e){var t=$(n).attr("title");n.href=e,n.download=t+".png",n.click()})})}(),describe("Protractor Demo App",function(){it("should add one and two",function(){browser.get("http://juliemr.github.io/protractor-demo/"),element(by.model("first")).sendKeys(1),element(by.model("second")).sendKeys(2),element(by.id("gobutton")).click(),expect(element(by.binding("latest")).getText()).toEqual("5")})}),describe("Protractor Demo App",function(){var e=element(by.model("first")),t=element(by.model("second")),n=element(by.id("gobutton")),o=element(by.binding("latest"));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a title",function(){expect(browser.getTitle()).toEqual("Super Calculator")}),it("should add one and two",function(){e.sendKeys(1),t.sendKeys(2),n.click(),expect(o.getText()).toEqual("3")}),it("should add four and six",function(){expect(o.getText()).toEqual("10")})}),describe("Protractor Demo App",function(){function e(e,r){t.sendKeys(e),n.sendKeys(r),o.click()}var t=element(by.model("first")),n=element(by.model("second")),o=element(by.id("gobutton")),r=(element(by.binding("latest")),element.all(by.repeater("result in memory")));beforeEach(function(){browser.get("http://juliemr.github.io/protractor-demo/")}),it("should have a history",function(){e(1,2),e(3,4),expect(r.count()).toEqual(2),e(5,6),expect(r.count()).toEqual(0)})});